<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Retro VRcade — Book a Store</title>

  <!-- Use Montserrat for a clean geometric sans-serif similar to the site -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#ffffff;
      --text:#0b0b0b;
      --muted:#666666;
      --accent:#1fb6ff; /* bright cyan-ish accent for CTAs — adjust if you want another color */
      --accent-dark:#1593d6;
      --card-bg:#f8f9fb;
      --shadow: 0 6px 18px rgba(11,11,11,0.08);
      --radius:12px;
      --max-width:1100px;
    }

    html,body{height:100%;}
    body{
      margin:0;
      font-family: "Montserrat", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
    }

    .wrap{
      max-width:var(--max-width);
      margin:30px auto;
      padding:24px;
    }

    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      margin-bottom:18px;
    }

    .brand {
      display:flex;
      gap:12px;
      align-items:center;
    }
    .brand .logo {
      width:64px;
      height:64px;
      border-radius:10px;
      background:linear-gradient(135deg,#111 0%, #222 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      color:white;
      font-weight:800;
      font-size:18px;
      box-shadow:var(--shadow);
    }
    .brand h1{
      margin:0;
      font-size:18px;
      font-weight:700;
      letter-spacing:0.5px;
    }
    .brand p{margin:0; font-size:12px; color:var(--muted)}

    .intro{
      margin:18px 0 26px;
      display:flex;
      gap:12px;
      align-items:center;
    }

    /* chooser area */
    .chooser {
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:18px;
      margin-bottom:20px;
    }
    @media (max-width:720px){
      .chooser{ grid-template-columns:1fr; }
    }

    .tile {
      background:var(--card-bg);
      border-radius:var(--radius);
      padding:22px;
      display:flex;
      flex-direction:column;
      gap:12px;
      justify-content:space-between;
      box-shadow:var(--shadow);
      cursor:pointer;
      transition:transform .14s ease, box-shadow .14s ease;
      border:1px solid rgba(0,0,0,0.03);
    }
    .tile:hover{ transform:translateY(-6px); box-shadow: 0 12px 28px rgba(11,11,11,0.12); }
    .tile h3{ margin:0; font-size:18px; font-weight:700; letter-spacing:0.6px;}
    .tile p{ margin:0; color:var(--muted); font-size:13px; }

    .cta-row {
      display:flex;
      gap:12px;
      align-items:center;
    }

    .btn {
      background:var(--accent);
      color:white;
      border:none;
      padding:10px 16px;
      font-weight:700;
      border-radius:10px;
      cursor:pointer;
      text-transform:uppercase;
      letter-spacing:1px;
      box-shadow: 0 6px 18px rgba(31,182,255,0.18);
      transition:transform .12s ease, background .12s ease;
      font-size:13px;
    }
    .btn:hover{ transform:translateY(-2px); background:var(--accent-dark); }
    .btn.ghost {
      background:transparent;
      color:var(--text);
      border:1px solid rgba(0,0,0,0.07);
      box-shadow:none;
      text-transform:none;
      font-weight:600;
    }

    /* booking container */
    .booking-wrap{
      display:none;
      margin-top:8px;
      border-radius:12px;
      overflow:hidden;
      border:1px solid rgba(0,0,0,0.06);
      background:white;
      min-height:420px;
      box-shadow:var(--shadow);
    }
    .booking-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:12px 16px;
      background:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,250,0.98));
      border-bottom:1px solid rgba(0,0,0,0.04);
    }
    .booking-header h2{ margin:0; font-size:16px; font-weight:700;}
    .booking-body{ padding:0; }

    /* loader */
    .loader {
      padding:46px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:12px;
      font-size:14px;
      color:var(--muted);
    }
    .spinner {
      width:28px;
      height:28px;
      border-radius:50%;
      border:4px solid rgba(0,0,0,0.06);
      border-top-color:var(--accent);
      animation:spin 1s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg)}}

    /* iframe responsiveness (if Bookeo injects iframe) */
    .widget-frame, .bookeo-container {
      width:100%;
      height:780px;
      border:0;
    }
    @media (max-width:720px){ .widget-frame, .bookeo-container{ height:1100px; } }

    footer{ margin-top:20px; font-size:12px; color:var(--muted); text-align:center; }
  </style>
</head>
<body>
  <div class="wrap" role="main">
    <header>
      <div class="brand" aria-hidden="true">
        <div class="logo">RV</div>
        <div>
          <h1>Retro VRcade</h1>
          <p>Book your VR experience — Marousi or Kallithea</p>
        </div>
      </div>
      <div>
        <a class="btn ghost" href="https://retrovrcade.com" target="_blank" rel="noopener">Visit site</a>
      </div>
    </header>

    <section class="intro" aria-labelledby="choose-title">
      <div>
        <h2 id="choose-title" style="margin:0 0 6px 0; font-size:20px;">Choose a store to book</h2>
        <p style="margin:0; color:var(--muted)">Tap a location below and continue with the booking widget.</p>
      </div>
    </section>

    <!-- Chooser -->
    <div id="chooser" class="chooser" aria-hidden="false">
      <div class="tile" role="button" tabindex="0" onclick="openBooking('marousi')" onkeypress="if(event.key==='Enter')openBooking('marousi')">
        <div>
          <h3>Marousi Store</h3>
          <p>The original Retro VRcade location — Themidos 6, Marousi.</p>
        </div>
        <div class="cta-row">
          <button class="btn" onclick="openBooking('marousi')">Book Marousi</button>
          <button class="btn ghost" onclick="openBooking('marousi')">Open</button>
        </div>
      </div>

      <div class="tile" role="button" tabindex="0" onclick="openBooking('kallithea')" onkeypress="if(event.key==='Enter')openBooking('kallithea')">
        <div>
          <h3>Kallithea Store</h3>
          <p>Our Kallithea store — larger space, more experiences (coming soon / live depending on branch).</p>
        </div>
        <div class="cta-row">
          <button class="btn" onclick="openBooking('kallithea')">Book Kallithea</button>
          <button class="btn ghost" onclick="openBooking('kallithea')">Open</button>
        </div>
      </div>
    </div>

    <!-- Booking container (will show Bookeo widget) -->
    <div id="booking" class="booking-wrap" aria-hidden="true">
      <div class="booking-header">
        <h2 id="booking-title">Booking</h2>
        <div>
          <button class="btn ghost" onclick="closeBooking()">Back</button>
        </div>
      </div>

      <div id="booking-body" class="booking-body">
        <div id="loader" class="loader" aria-live="polite">
          <div class="spinner" aria-hidden="true"></div>
          <div>Loading booking widget…</div>
        </div>

        <!-- Marousi Bookeo container (hidden until selected) -->
        <div id="marousi-w" class="bookeo-container" style="display:none;">
          <!-- Marousi Bookeo script (exact as provided) -->
          <script type="text/javascript" src="https://bookeo.com/widget.js?a=42557P4NLT918F5CA71E33"></script>
        </div>

        <!-- Kallithea Bookeo container (hidden until selected) -->
        <div id="kallithea-w" class="bookeo-container" style="display:none;">
          <!-- Kallithea Bookeo script (exact as provided) -->
          <script type="text/javascript" src="https://bookeo.com/widget.js?a=42557P4NLT918F5CA71E33&type=42557XC979Y18F5CEE2F5A"></script>
        </div>
      </div>
    </div>

    <footer>
      If the widget doesn't appear, try opening the store pages directly on Bookeo or contact support.
    </footer>
  </div>

  <script>
    // Basic show/hide logic: chooser -> booking area -> shows the right Bookeo script container
    function openBooking(store){
      document.getElementById('chooser').style.display = 'none';
      const booking = document.getElementById('booking');
      const title = document.getElementById('booking-title');
      booking.style.display = 'block';
      booking.setAttribute('aria-hidden','false');

      // reset
      document.getElementById('marousi-w').style.display = 'none';
      document.getElementById('kallithea-w').style.display = 'none';
      document.getElementById('loader').style.display = 'flex';

      if(store === 'marousi'){
        title.textContent = 'Marousi Store — Book Now';
        // show marousi container
        // slight delay so loader is visible briefly (Bookeo script does its own load)
        setTimeout(function(){
          document.getElementById('marousi-w').style.display = 'block';
          document.getElementById('loader').style.display = 'none';
          scrollToBooking();
        }, 600);
      } else if (store === 'kallithea'){
        title.textContent = 'Kallithea Store — Book Now';
        setTimeout(function(){
          document.getElementById('kallithea-w').style.display = 'block';
          document.getElementById('loader').style.display = 'none';
          scrollToBooking();
        }, 600);
      }
    }

    function closeBooking(){
      document.getElementById('booking').style.display = 'none';
      document.getElementById('booking').setAttribute('aria-hidden','true');
      document.getElementById('chooser').style.display = 'grid';
      // Hide widget containers to avoid multiple widget instances interfering
      document.getElementById('marousi-w').style.display = 'none';
      document.getElementById('kallithea-w').style.display = 'none';
      document.getElementById('loader').style.display = 'flex';
      window.scrollTo({top:0, behavior:'smooth'});
    }

    function scrollToBooking(){
      // scroll smoothly to booking container
      const el = document.getElementById('booking');
      if(el) el.scrollIntoView({behavior:'smooth', block:'start'});
    }

    // Accessibility: allow ESC to go back
    document.addEventListener('keydown', function(e){
      if(e.key === 'Escape'){
        // if booking is visible, close it
        const booking = document.getElementById('booking');
        if(booking && booking.style.display === 'block'){
          closeBooking();
        }
      }
    });

    // Note:
    // Bookeo's widget.js will likely inject its own iframe or DOM into the container divs.
    // We include the script tags inline (as you provided) inside hidden containers. That usually works,
    // but if Bookeo's script requires a fresh insert when shown, you can instead dynamically create the script element on openBooking.
    // If you notice the widget does not initialize when shown after being hidden, tell me and I will provide a dynamic-insert version.
  </script>
</body>
</html>
